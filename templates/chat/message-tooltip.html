{{#*inline "section" name value flavor flavorClass}}
	<section class="tooltip-part">
		<header class="part-header flexrow">
			<span class="part-formula">{{name}}</span>
			{{#if flavor}}<span class="part-flavor {{flavorClass}}">{{flavor}}</span>{{/if}}
			<span class="part-total">{{value}}</span>
		</header>
	</section>
{{/inline}}

<div class="dice-tooltip{{#if expanded}} expanded{{/if}}">
	{{#each parts}}
		<section class=" tooltip-part">
			<div class="dice">
				<header class="part-header flexrow">
					<span class="part-formula">{{this.formula}}</span>
					{{#if this.flavor}}<span class="part-flavor">{{this.flavor}}</span>{{/if}}
					<span class="part-total">{{this.total}}</span>
				</header>
				<ol class="dice-rolls">
					{{#each this.rolls}}
						<li class="roll {{this.classes}}">{{{this.result}}}</li>
					{{/each}}
				</ol>
			</div>
		</section>
	{{/each}}
	{{#each data.burnedTags as |tag|}}
		{{> section name=tag.name value=3 flavor=(localize 'Os.tags.isBurnt') flavorClass="burned"}}
	{{/each}}
	{{#each data.powerTags as |tag|}}
		{{> section name=tag.name value=1}}
	{{/each}}
	{{#if data.mitigate}}
		{{> section name=(localize 'Os.effects.mitigate.key') value=1}}
	{{/if}}
	{{#each data.weaknessTags as |tag|}}
		{{> section name=tag.name value=-1 flavor=(ifThen (eq tag.type 'weaknessTag') (localize 'Os.tags.weakness') '') flavorClass="negative"}}
	{{/each}}
	{{#each data.positiveStatuses as |tag|}}
		{{> section name=tag.name value=tag.value flavor=(localize 'Os.other.status') flavorClass="positive"}}
	{{/each}}
	{{#each data.negativeStatuses as |tag|}}
		{{> section name=tag.name value=(concat "-" tag.value) flavor=(localize 'Os.other.status') flavorClass="positive"}}
	{{/each}}
</div>